<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday, My Gwapo Babe 🎉</title>
  <style>
    :root{
      --bg:#0b0f1a;        /* deep night */
      --accent:#ff7ac6;    /* pink */
      --gold:#ffdc7f;      /* gold */
      --cyan:#7afcff;      /* cyan */
      --lav:#b594ff;       /* lavender */
      --white:#f6f7fb;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 700px at 70% 10%, #1a2140 0%, var(--bg) 60%);
      color:var(--white);
      overflow:hidden;
    }
    .center{position:absolute; inset:0; display:grid; place-items:center}
    .hidden{display:none}
    .fade{opacity:0; transition:opacity .8s ease}
    .show{opacity:1}

    /* ---------- 0. START OVERLAY (user gesture for audio) ---------- */
    #starter{z-index:1000; background:linear-gradient(160deg, #0b0f1a 30%, #111632 100%);}  
    #starter .card{
      padding:32px 28px; border-radius:20px; background:rgba(255,255,255,.06); backdrop-filter: blur(6px);
      box-shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.06);
      text-align:center; max-width:500px; margin:0 16px;
    }
    #starter button{
      margin-top:16px; font-size:16px; padding:12px 18px; border-radius:999px; border:0; cursor:pointer; color:#111;
      background-image: linear-gradient(90deg, var(--gold), var(--accent));
      box-shadow: 0 8px 18px rgba(255, 122, 198, .35);
    }

    /* ---------- 1. INTRO ---------- */
    #intro h1{
      font-size: clamp(28px, 5vw, 56px);
      line-height:1.1; text-align:center; margin:0 16px;
      background: linear-gradient(90deg, var(--gold), var(--accent), var(--cyan));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      filter: drop-shadow(0 6px 18px rgba(255,220,127,.25));
      animation: floatY 3s ease-in-out infinite;
    }
    @keyframes floatY{0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}

    /* ---------- 2. GIFT BOX + FIREWORKS + PHOTO MOSAIC ---------- */
    #giftstage{position:relative; width:min(520px, 90vw); height:min(420px, 70vh);} 
    #gift{position:absolute; inset:0; display:grid; place-items:end center}
    .box{position:relative; width:220px; height:160px; background:#2d2a5c; border-radius:16px; box-shadow:0 14px 40px rgba(0,0,0,.45)}
    .box:before{content:""; position:absolute; inset:0; background: repeating-linear-gradient(90deg, transparent 0 38px, #ff7ac6 38px 54px); border-radius:16px}
    .lid{position:absolute; left:50%; top:-54px; width:260px; height:70px; transform:translateX(-50%);
      background:#24224d; border-radius:18px; box-shadow:0 10px 28px rgba(0,0,0,.45)}
    .lid:before{content:""; position:absolute; inset:0; background: repeating-linear-gradient(90deg, transparent 0 38px, #ff7ac6 38px 54px); border-radius:18px}
    .ribbon-bow{position:absolute; left:50%; top:-18px; width:22px; height:22px; transform:translateX(-50%) rotate(45deg);
      background:var(--gold); box-shadow:0 0 18px rgba(255,220,127,.6)}
    /* opening animation */
    .open .lid{animation: popOpen 1.2s ease forwards}
    @keyframes popOpen{0%{transform:translateX(-50%) rotate(0deg)} 40%{transform:translate(-50%, -40px) rotate(-8deg)} 70%{transform:translate(-50%, -70px) rotate(-18deg)} 100%{transform:translate(-80%, -180px) rotate(-28deg)}}

    /* fireworks canvas sits above */
    #fw{position:absolute; inset:0; pointer-events:none}

    /* photo mosaic */
    #photos{position:absolute; inset:0; display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; padding:10px; opacity:0; transform:translateY(18px); transition:all .8s ease .3s}
    #photos.show{opacity:1; transform:translateY(0)}
    #photos .ph{border-radius:14px; overflow:hidden; aspect-ratio:1/1; background:#1f2444; box-shadow:0 10px 24px rgba(0,0,0,.45)}
    #photos .ph img{width:100%; height:100%; object-fit:cover; display:block}

    /* ---------- 3. ANIMATED GUY WITH FLOWERS ---------- */
    #guyStage{position:relative; width:min(800px, 96vw); height:min(420px, 70vh)}
    .ground{position:absolute; left:0; right:0; bottom:40px; height:4px; background:linear-gradient(90deg, #364, #446, #363); opacity:.35}
    .guy{position:absolute; bottom:44px; left:-220px; width:180px; filter:drop-shadow(0 10px 18px rgba(0,0,0,.45))}
    .guy.move{animation: walkIn 3.2s ease forwards}
    @keyframes walkIn{0%{transform:translateX(0)}100%{transform:translateX(460px)}}
    .bubble{position:absolute; bottom:220px; left:calc(50% - 120px); width:240px; padding:12px 14px; border-radius:16px; background:rgba(255,255,255,.08); backdrop-filter: blur(6px); opacity:0; transform:translateY(10px); transition: all .6s ease}
    .bubble.show{opacity:1; transform:translateY(0)}
    .bubble:after{content:""; position:absolute; left:18px; bottom:-10px; width:16px; height:16px; background:inherit; transform:rotate(45deg)}

    /* ---------- 4. SCROLL LETTER ---------- */
    #scrollStage{position:relative; width:min(760px, 96vw); height:min(520px, 78vh)}
    .scroll{
      --w: min(720px, 94vw);
      position:absolute; inset:0; margin:auto; width:var(--w); max-width:var(--w); height:120px; overflow:hidden; border-radius:16px;
      background: #f5e6c8; color:#4d3a2a; box-shadow:0 10px 30px rgba(0,0,0,.35);
      background-image: radial-gradient( at 10% 10%, #fff6df, rgba(0,0,0,0) 60%), radial-gradient(at 90% 90%, #ffe9b0, rgba(0,0,0,0) 50%);
      border: 1px solid #e3cfa7;
    }
    .scroll::before, .scroll::after{
      content:""; position:absolute; top:-18px; width:34px; height:calc(100% + 36px); background: repeating-linear-gradient(180deg, #d5bb8a 0 12px, #caa96f 12px 24px); filter: drop-shadow(0 6px 10px rgba(0,0,0,.15));
    }
    .scroll::before{left:-18px; border-radius:18px 0 0 18px}
    .scroll::after{right:-18px; border-radius:0 18px 18px 0}
    .scroll.open{animation: unroll 2.2s ease forwards}
    @keyframes unroll{0%{height:120px} 100%{height:420px}}

    .letter{opacity:0; padding:24px 28px; font-size:clamp(16px, 1.8vw, 20px); line-height:1.6;}
    .letter.show{opacity:1; transition: opacity .8s ease .2s}
    .signature{margin-top:16px; font-style:italic; text-align:right;}

    /* controls */
    #controls{position:fixed; right:14px; bottom:14px; display:flex; gap:8px; z-index:100}
    #controls button{padding:10px 14px; border-radius:12px; border:0; background:rgba(255,255,255,.08); color:var(--white); cursor:pointer; backdrop-filter: blur(6px)}
    #controls button:hover{background:rgba(255,255,255,.14)}

    /* subtle stars */
    .stars{position:fixed; inset:0; pointer-events:none; background: radial-gradient(1px 1px at 20% 40%, rgba(255,255,255,.5), transparent 60%),
                                                     radial-gradient(1px 1px at 80% 20%, rgba(255,255,255,.35), transparent 60%),
                                                     radial-gradient(1.2px 1.2px at 60% 70%, rgba(255,255,255,.45), transparent 60%),
                                                     radial-gradient(1px 1px at 30% 80%, rgba(255,255,255,.35), transparent 60%)}
  </style>
</head>
<body>
  <div class="stars"></div>

  <!-- 0. Starter (tap to enable audio) -->
  <div id="starter" class="center">
    <div class="card">
      <h2>Ready for a birthday surprise my babe?</h2>
      <p>Click the button below to begin. I have included music so dont skip it  💖</p>
      <button id="startBtn">Start the Magic</button>
    </div>
  </div>

  <!-- 1. Intro text -->
  <section id="intro" class="center fade">
    <h1>Happy Birthday, my gwapo babe! ✨</h1>
  </section>

  <!-- 2. Gift box + fireworks + photo mosaic -->
  <section class="center fade" id="giftScene">
    <div id="giftstage">
      <canvas id="fw"></canvas>
      <div id="gift">
        <div class="lid"></div>
        <div class="box">
          <div class="ribbon-bow"></div>
        </div>
      </div>
      <div id="photos"></div>
    </div>
  </section>

  <!-- 3. Animated guy handing flowers -->
  <section class="center fade" id="guyScene">
    <div id="guyStage">
      <svg class="guy" id="guySvg" viewBox="0 0 220 260" xmlns="http://www.w3.org/2000/svg">
        <!-- simple cute character -->
        <defs>
          <linearGradient id="shirt" x1="0" x2="1">
            <stop offset="0" stop-color="#7afcff"/>
            <stop offset="1" stop-color="#b594ff"/>
          </linearGradient>
        </defs>
        <!-- legs -->
        <rect x="90" y="160" width="20" height="70" rx="10" fill="#29324a"/>
        <rect x="120" y="160" width="20" height="70" rx="10" fill="#29324a"/>
        <!-- body -->
        <rect x="78" y="90" width="80" height="80" rx="18" fill="url(#shirt)"/>
        <!-- head -->
        <circle cx="118" cy="60" r="34" fill="#ffd7c2"/>
        <rect x="94" y="46" width="48" height="18" rx="9" fill="#1d2238"/> <!-- hair band -->
        <circle cx="106" cy="62" r="3" fill="#222"/>
        <circle cx="130" cy="62" r="3" fill="#222"/>
        <circle cx="118" cy="72" r="3" fill="#ff7ac6"/> <!-- blush -->
        <!-- left arm -->
        <rect x="58" y="106" width="22" height="16" rx="8" fill="#ffd7c2"/>
        <!-- right arm (animated via CSS/JS) -->
        <g id="arm" transform="translate(156,110)">
          <rect x="0" y="0" width="22" height="16" rx="8" fill="#ffd7c2"/>
          <!-- bouquet -->
          <g id="bouquet" transform="translate(18,-8)">
            <path d="M0,0 L24,18 L18,24 L-6,6 Z" fill="#4caf50"/>
            <circle cx="6" cy="-4" r="6" fill="#ff7ac6"/>
            <circle cx="16" cy="0" r="6" fill="#ffd166"/>
            <circle cx="10" cy="-10" r="6" fill="#7afcff"/>
          </g>
        </g>
      </svg>
      <div class="bubble" id="bubble">Happy birthday, babe! 🌹💖</div>
      <div class="ground"></div>
    </div>
  </section>

  <!-- 4. Scroll letter -->
  <section class="center fade" id="scrollScene">
    <div class="scroll" id="scroll">
      <div class="letter" id="letter">
        <h2 style="margin:0 0 6px 0">A Little Love Note 💌</h2>
        <p id="msg"></p>
        <p class="signature">— Your forever fan</p>
      </div>
    </div>
  </section>

  <!-- controls -->
  <div id="controls" class="hidden">
    <button id="replay">Replay</button>
    <button id="pauseMusic">Pause Music</button>
  </div>

  <!-- audio (replace src with your song) -->
  <audio id="song" preload="auto">
  <source src="https://www.orangefreesounds.com/wp-content/uploads/2016/08/Happy-birthday-instrumental.mp3" type="audio/mpeg" />
</audio>


  <script>
    // ---------- Helper: show/hide with class ---------
    const wait = (ms) => new Promise(r => setTimeout(r, ms));
    const byId = (id) => document.getElementById(id);

    // ---------- Setup images (REPLACE these with your own URLs) ----------
    // Put your 6 image links here. Local files work if served by a local server.
    // ---------- Setup images (local from img folder) ----------
const imageURLs = [
  'img/1.jpg',
  'img/2.jpg',
  'img/3.jpg',
  'img/4.jpg',
  'img/5.jpg',
  'img/6.jpg'
];


    // ---------- Typewriter message for the scroll ----------
    const letterLines = [
      "Happy Birthday to this awsome girl- your smile, your heart,and your gypito face .",
      "Thank you for filling my world with laughter and warmth.",
      "May this year bring you adventures, calm mornings, and dreams coming true.",
      "I am so lucky to call you mine. Happy birthday, babe and i love you so much ❤️❤️!"
    ];

    // ---------- 2a. Fireworks (canvas) ----------
    const fw = byId('fw');
    const ctx = fw.getContext('2d');
    let W, H, particles = []; let fwTimer;
    function resize(){ W = fw.width = byId('giftstage').clientWidth; H = fw.height = byId('giftstage').clientHeight }
    window.addEventListener('resize', resize);
    function burst(x, y, color){
      const count = 80; const speed = 2 + Math.random()*2;
      for(let i=0;i<count;i++){
        const angle = (Math.PI*2) * (i/count) + Math.random()*0.2;
        particles.push({x, y, vx: Math.cos(angle)*speed, vy: Math.sin(angle)*speed, life: 60 + Math.random()*20, color});
      }
    }
    function render(){
      ctx.clearRect(0,0,W,H);
      // trail fade
      ctx.fillStyle = 'rgba(11,15,26,0.25)'; ctx.fillRect(0,0,W,H);
      particles.forEach(p=>{
        p.x += p.vx; p.y += p.vy; p.vy += 0.02; p.life -= 1;
        ctx.globalAlpha = Math.max(p.life/80, 0);
        ctx.fillStyle = p.color; ctx.beginPath(); ctx.arc(p.x, p.y, 2, 0, Math.PI*2); ctx.fill();
      });
      particles = particles.filter(p=>p.life>0);
      fwTimer = requestAnimationFrame(render);
    }

    // ---------- 2b. Build photo mosaic ----------
    function buildPhotos(){
      const wrap = byId('photos');
      wrap.innerHTML = '';
      imageURLs.slice(0,6).forEach((url)=>{
        const d = document.createElement('div'); d.className = 'ph';
        const img = document.createElement('img'); img.loading = 'lazy'; img.src = url;
        d.appendChild(img); wrap.appendChild(d);
      });
    }

    // ---------- 3. Guy action ----------
    async function guySequence(){
      const guy = byId('guySvg'); const bubble = byId('bubble');
      guy.classList.add('move');
      await wait(3400);
      // "hand over" bouquet: nudge arm forward
      const arm = guy.getElementById('arm');
      arm.setAttribute('transform','translate(156,110) translate(18,-4)');
      bubble.classList.add('show');
      await wait(1600);
    }

    // ---------- 4. Scroll letter sequence ----------
    async function scrollSequence(){
      const sc = byId('scroll'); const letter = byId('letter'); const msg = byId('msg');
      sc.classList.add('open');
      await wait(2200);
      letter.classList.add('show');
      // Type lines
      msg.textContent = '';
      for(const line of letterLines){
        for(const ch of line){
          msg.textContent += ch; await wait(28);
        }
        msg.innerHTML += '<br/>';
        await wait(220);
      }
    }

    // ---------- Main storyboard ----------
    async function play(){
      // scenes
      const intro = byId('intro'); const giftScene = byId('giftScene'); const guyScene = byId('guyScene'); const scrollScene = byId('scrollScene');
      const controls = byId('controls');
      controls.classList.remove('hidden');

      // 1) Intro
      intro.classList.add('show');
      await wait(2200);
      intro.classList.remove('show');
      await wait(800);

      // 2) Gift box
      giftScene.classList.add('show');
      resize(); render(); buildPhotos();
      await wait(600);
      // open lid
      byId('gift').classList.add('open');
      // fireworks bursts
      const colors = ['#ff7ac6','#7afcff','#ffdc7f','#b594ff'];
      for(let i=0;i<8;i++){
        await wait(180);
        burst(Math.random()*W*0.8 + W*0.1, Math.random()*H*0.5 + H*0.1, colors[i%colors.length]);
      }
      // reveal photos & play music
      byId('photos').classList.add('show');
      const audio = byId('song');
      try{ audio.play(); }catch(e){}
      await wait(3600);

      // 3) Guy with flowers
      giftScene.classList.remove('show');
      await wait(400);
      guyScene.classList.add('show');
      await guySequence();
      await wait(1600);

      // 4) Scroll letter
      guyScene.classList.remove('show');
      await wait(400);
      scrollScene.classList.add('show');
      await scrollSequence();
    }

    // ---------- Controls ----------
    byId('replay').addEventListener('click', ()=>{ window.location.reload() });
    byId('pauseMusic').addEventListener('click', ()=>{
      const a = byId('song'); if(a.paused){ a.play(); byId('pauseMusic').textContent = 'Pause Music' } else { a.pause(); byId('pauseMusic').textContent = 'Play Music' }
    });

    // ---------- Start overlay (user gesture) ----------
    byId('startBtn').addEventListener('click', async ()=>{
      byId('starter').style.display='none';
      // small intro fade-in safety in case of low-end devices
      await wait(100);
      play();
    });
  </script>
</body>
</html>
